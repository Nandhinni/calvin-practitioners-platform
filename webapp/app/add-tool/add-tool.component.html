<md-card class="example-card">
  <md-card-header>
    <div md-card-avatar class="example-header-image"></div>
    <md-card-title>
      <h2>ADD TOOL</h2>
    </md-card-title>
  </md-card-header>
  <md-card-content>
    <form #addTool="ngForm" (ngSubmit)="registerTool(addTool)">
      <!-- Tool Basic Information -->
      <md-input-container class="example-full-width" fxLayout="row">
        <input mdInput name="toolid" placeholder="Tool ID" [(ngModel)]="toolid">
      </md-input-container>
      <md-input-container class="example-full-width" fxLayout="row">
        <input mdInput name="toolname" placeholder="Tool Name" [(ngModel)]="toolname">
      </md-input-container>
      <md-input-container class="example-full-width" fxLayout="column" rows="2">
        <textarea mdInput name="tooldesc" placeholder="Description" [(ngModel)]="tooldesc">Put Small Description of the tool</textarea>
      </md-input-container>
      <div fxLayout="row" >
        <!-- to display each added action   -->
        <table *ngIf="actions.length!==0">
          <tr fxLayout="row">
            <th>Action</th>
            <th> Grants </th>
            <th> Remove </th>
          </tr>
          <!--<div *ngFor="let action of actions">-->
            <tr *ngFor="let action of actions" fxLayout="row">
              <td>{{action.name}}</td>
              <td> {{action.grants}} </td>
              <td> <i class="material-icons" (click)="remAction(action.name)">remove_circle</i> </td>
            </tr>
          <!--</div>-->
        </table>
      </div>
      <!-- to Display Add more button when 1 action is already added -->
      <div *ngIf="actionFlag===1">
        <button md-button (click)="enableAction();">ADD MORE</button>
      </div>
      <!-- Text Field to add tool action and Grants -->
      <div *ngIf="actionFlag===0">
        <md-input-container class="example-full-width" fxLayout="row">
          <input name="action" mdInput placeholder="Action" [(ngModel)]="toolaction">
        </md-input-container>
        <md-input-container class="example-full-width" fxLayout="row">
          <input name="grants" mdInput placeholder="Grants" (focusout)="AddAction()" [(ngModel)]="toolgrants">
        </md-input-container>
      </div>


      <div fxLayout="row">
        <!-- to display each added event   -->
        <table *ngIf="events.length!==0">
          <tr fxLayout="row">
            <th>Event</th>
            <th> Payload </th>
            <th> Description </th>
          </tr>
        
            <tr *ngFor="let event of events" fxLayout="row">
              <td>{{event.name}}</td>
              <td> {{event.payload}} </td>
              <td> {{event.description}} <i class="material-icons" (click)="remEvent(event.name)">remove_circle</i></td>
            </tr>
        </table>
      </div>
      <!-- to Display Add more button when 1 event is already added -->
      <div *ngIf="eventFlag===1">
        <button md-button (click)="enableEvent();">ADD MORE</button>
      </div>

      <!-- To Add Events for Tool-->
      <div *ngIf="eventFlag===0">
        <md-input-container class="example-full-width" fxLayout="row">
          <input name="event" mdInput placeholder="EVENT NAME" [(ngModel)]="tooleventname">
        </md-input-container>
       
        <md-input-container class="example-full-width" fxLayout="column" rows="2">
          <textarea name="evdesc" mdInput placeholder="DESCRIPTION"  [(ngModel)]="eventDesc">Nice Lil Description of event</textarea>
        </md-input-container>
         <md-input-container class="example-full-width" fxLayout="row">
          <input name="payload" mdInput placeholder="PAYLOAD" (focusout)="addEvent()" [(ngModel)]="eventpayload">
        </md-input-container>
      </div>
      <div>
        <md-checkbox>I Agree To The Terms and Conditions!</md-checkbox>
      </div>
      <!-- Cancel Button-->
       <a md-raised-button routerLink="/app/home">Cancel</a>
      <!-- Submit button to Add the tool-->
      <button md-raised-button color="primary" type="submit">Submit</button>
    </form>
  </md-card-content>

</md-card>